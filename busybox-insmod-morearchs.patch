--- busybox-1.00-pre10/modutils/insmod.c.orig	Tue Apr  6 13:56:26 2004
+++ busybox-1.00-pre10/modutils/insmod.c	Fri May 14 16:39:38 2004
@@ -248,6 +248,36 @@
 #define ELFCLASSM	ELFCLASS32
 #endif
 
+#if defined(__alpha__)
+#define ELFCLASSM		ELFCLASS64
+#define ELFDATAM		ELFDATA2LSB
+#define MATCH_MACHINE(x)  (x == EM_ALPHA)
+#define SHT_RELM		SHT_RELA
+#define Elf64_RelM		Elf64_Rela
+#endif
+
+#if defined(__sparc64__) || defined(__sparcv9__)
+#define ELFCLASSM		ELFCLASS64
+#define ELFDATAM		ELFDATA2MSB
+#define MATCH_MACHINE(x)  ((x) == EM_SPARCV9 || (x) == EM_SPARC64)
+#define SHT_RELM		SHT_RELA
+#define Elf64_RelM		Elf64_Rela
+#elif defined(__sparc__)
+#define ELFCLASSM		ELFCLASS32
+#define ELFDATAM		ELFDATA2MSB
+#define MATCH_MACHINE(x)  (x == EM_SPARC)
+#define SHT_RELM		SHT_RELA
+#define Elf32_RelM		Elf32_Rela
+#endif
+
+#if defined(__x86_64__)
+#define ELFCLASSM       ELFCLASS64
+#define ELFDATAM        ELFDATA2LSB
+#define MATCH_MACHINE(x)  (x == EM_X86_64)
+#define SHT_RELM        SHT_RELA
+#define Elf64_RelM      Elf64_Rela
+#endif
+
 #ifndef SHT_RELM
 #error Sorry, but insmod.c does not yet support this architecture...
 #endif
